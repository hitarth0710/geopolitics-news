/* Cross-browser and responsive optimizations */

/* Reset and base styles for cross-browser compatibility */
*, *::before, *::after {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    scroll-behavior: smooth;
}

/* Ensure images are responsive */
img, video, iframe {
    max-width: 100%;
    height: auto;
}

/* Better touch targets for mobile */
a, button, input, select, textarea {
    touch-action: manipulation;
}

button, [type="button"], [type="submit"] {
    min-height: 44px;
    min-width: 44px;
}

/* Hide scrollbar but allow scrolling */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Mobile navigation hamburger menu */
.mobile-menu {
    display: none;
}

@media (max-width: 640px) {
    .mobile-menu {
        display: block;
    }
    
    .desktop-nav {
        display: none;
    }
    
    /* Improve readability on small screens */
    .headline {
        font-size: 1.5rem !important;
        line-height: 1.3 !important;
    }
    
    /* Stack navigation elements */
    nav .flex {
        flex-wrap: wrap;
    }
    
    /* Full-width search on mobile */
    #searchForm {
        order: 3;
        width: 100%;
        margin-top: 0.5rem;
    }
    
    /* Adjust card layout for very small screens */
    .article-card {
        margin-bottom: 1rem;
    }
    
    /* Larger tap targets */
    .px-4.py-2 {
        padding: 0.75rem 1rem;
    }
    
    /* Pagination adjustments */
    nav ul {
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.25rem;
    }
}

/* Tablet optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
    .lg\:w-80 {
        width: 100%;
        max-width: 100%;
    }
    
    .lg\:flex-row {
        flex-direction: column;
    }
}

/* Large screens */
@media (min-width: 1280px) {
    .max-w-7xl {
        max-width: 90rem;
    }
}

/* Print styles */
@media print {
    nav, footer, aside, .mobile-menu, button {
        display: none !important;
    }
    
    body {
        background: white !important;
        color: black !important;
    }
    
    .article-card {
        break-inside: avoid;
        box-shadow: none !important;
        border: 1px solid #ddd;
    }
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    html {
        scroll-behavior: auto;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .article-card {
        border: 2px solid currentColor;
    }
    
    a {
        text-decoration: underline;
    }
}

/* Safe area insets for notched devices (iPhone X+) */
@supports (padding: max(0px)) {
    body {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
    }
    
    footer {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
}

/* Line clamp cross-browser support */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Focus styles for accessibility */
a:focus-visible, button:focus-visible, input:focus-visible {
    outline: 2px solid #1e40af;
    outline-offset: 2px;
}

/* Container queries for modern browsers (progressive enhancement) */
@supports (container-type: inline-size) {
    .article-card {
        container-type: inline-size;
    }
    
    @container (max-width: 300px) {
        .article-card img {
            height: 120px;
        }
        
        .article-card h3 {
            font-size: 1rem;
        }
    }
}
